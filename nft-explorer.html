<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>NFT</title>
	<link href="https://fonts.googleapis.com/css?family=Nunito" rel="stylesheet">
	<link type="text/css" href="assets/css/theme.css" rel="stylesheet">
	<style type="text/css">
	* {
		font-family: 'Nunito', sans-serif;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
	}
</style>


    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/smarteco@1.0.4/lib/smartEco.min.js"></script>
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vue"></script>
	<script type="text/javascript" src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body>
	<div id="app">
		<h1>NFT Explorer</h1>
		Contract Hash:<br>
  		<input v-model="contract_hash" >
  		<br>
 		Token ID:<br>
  		<input v-model="token_id">
  		<br><br>
  		<button v-on:click="getUrlForToken">Submit</button>
		<img v-bind:src="image_url"/>
</div>
<script type="text/javascript">
	var app = new Vue({
		el: '#app',
		data: {
			contract_hash:"ef26427f9eaeed31c57884dbbc2bda5de7b5dab8",
			token_id: 0,
			image_url:""
		}, 
		methods:{
			getUrlForToken(){
				var self = this;
				smartEcoRouter = new smartEco.SmartEcoRouter()
				smartEcoRouter.start()
				//o3dapi.initPlugins([o3dapiNeo]);
				var invokeRequest = {
					"scriptHash": this.contract_hash,
  					"operation": "uri",
  					"args": [
    					{
      						"type": 'Integer',
      						"value": parseInt(this.token_id, 10)
      					}
  					],
  					"network": "TestNet"}
				 	smartEcoRouter.invokeRead(invokeRequest)
					.then(function(r) {
						var hex = r["stack"][0]["value"]
    					var str = '';
    					for (var i = 0; (i < hex.length && hex.substr(i, 2) !== '00'); i += 2)
        					str += String.fromCharCode(parseInt(hex.substr(i, 2), 16));
						console.log(str)
						self.image_url = str
						console.log(this.image_url)
					})
					.catch(function(e) {
						console.log(e)
					}) 
			}
		}
	});
</script>>

<footer class="footer footer-dark bg-gradient-primary footer-rotate mt-5">
	<div class="container">
		<div class="row pt-md">
			<div class="col-lg-4 mb-5 mb-lg-0">
				<a href="/">
					<img src="https://cdn.o3.network/logo/logo-dark.png" srcset="https://cdn.o3.network/logo/logo-dark@2x.png 2x" alt="Footer logo" style="height: 40px;">
				</a>
				<p class="text-sm mt-2">Your gateway to the Smart Economy</p>
			</div>
			<div class="col-lg-2 col-6 col-sm-4 ml-lg-auto mb-5 mb-lg-0">
				<h6 class="heading mb-3">O3</h6>
				<ul class="list-unstyled">
					<li><a href="https://itunes.apple.com/app/id1336781023">iOS</a>
					</li>
					<li><a href="https://play.google.com/store/apps/details?id=network.o3.o3wallet">Android</a>
					</li>
					<li><a href="https://itunes.apple.com/us/app/o3/id1421086700">macOS</a>
					</li>
					<li><a href="https://www.microsoft.com/store/apps/9P6FJT4FB4DJ">Windows</a>
					</li>
				</ul>
			</div>
		 
			<div class="col-lg-2 col-sm-4 mb-5 mb-lg-0">
				<h6 class="heading mb-3">Company</h6>
				<ul class="list-unstyled">
					<li><a href="https://o3.network">Home</a>
					</li>
					<li><a href="https://o3.network/team/">Team</a>
					</li>
					<li><a href="https://community.o3.network/">Community</a>
					</li>
					<li><a href="mailto:support@o3.network">Support</a>
					</li>
				</ul>
			</div>
		</div>
		<div class="row align-items-center justify-content-md-between py-4 mt-4 delimiter-top">
			<div class="col-md-6">
				<div class="copyright text-sm font-weight-bold text-center text-md-left">
					&copy; 2019 <a href="https://o3.network/" class="font-weight-bold" target="_blank">O3 Labs Inc</a>. All rights reserved.
				</div>
			</div>
		</div>
	</div>
</footer>
	<script src="assets/vendor/jquery/dist/jquery.min.js"></script>
	<script src="assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
	<script src="assets/js/theme.js"></script>
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-128562956-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());
		gtag('config', 'UA-128562956-1');
	</script>
</body>